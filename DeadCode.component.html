<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@argdown/web-components/dist/argdown-map.css"><script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/webcomponents-bundle.js" type="module"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@argdown/web-components/dist/argdown-map.js"></script><figure  role="group" class="argdown-figure"><argdown-map      initial-view="map"><div slot="source" class=""><pre class="language-argdown"><code class="language-argdown"><span class="hljs-section">## Dead Code Analysis</span>
<span class="hljs-comment">&lt;!--
What kind of errors may occur in dead code:
  - https://github.com/gpuweb/gpuweb/issues/2378
--&gt;</span>

<span class="hljs-statement-title">[Fully Approximate]:</span> Let our analysis approximation to not
be aware of code that can&#x27;t be reached, but otherwise perform full analysis.
<span class="hljs-attack">  -</span> <span class="hljs-argument-title">&lt;False Alarm&gt;:</span> will complain about cases that are safe and portable,
    annoy some users.

<span class="hljs-statement-title">[Local-only]:</span> We should still perform uniformity analysis
on the dead code in isolation. The analysis shouldn&#x27;t leak outside of the dead code.
<span class="hljs-attack">  -</span> <span class="hljs-argument-title">&lt;Minor False Alarm&gt;:</span> may still complain about non-dangerous cases,
    but less likely. In particular, if the user just inserts `return;` somewhere in
    a valid program, it will not become invalid due to the code that follows.

<span class="hljs-statement-title">[Skip]:</span> We should skip the behavioral and uniformity analysis of dead code.
<span class="hljs-support">  +</span> matches a hypothetical &quot;ideal&quot; analysis, which would not find any issues
    in dead code because it&#x27;s still safe and portable.

<span class="hljs-statement-title">[Skip Types]:</span> Not only skip the uniformity, but also not do any type checking
in dead code.
<span class="hljs-support">  +</span> <span class="hljs-argument-title">&lt;Analysis Consistency&gt;:</span> these are all kind of code analysis,
    why separate one from the other?
<span class="hljs-attack">  -</span> <span class="hljs-argument-title">&lt;Unexpected&gt;:</span> inconsistent with any other compiled language?
</code></pre></div><div slot="map">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: Argument Map Pages: 1 -->
<svg width="720pt" height="181pt"
 viewBox="0.00 0.00 720.00 180.92" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.66 0.66) rotate(0) translate(4 270.4)">
<title>Argument Map</title>
<g id="clust1" class="cluster">
<title>cluster_1</title>
<polygon fill="#dadada" stroke="#dadada" points="8,-8 8,-258.4 1076,-258.4 1076,-8 8,-8"/>
<text text-anchor="start" x="487.65" y="-243.6" font-family="arial" font-size="12.00" fill="#000000">Dead Code Analysis</text>
</g>
<!-- n0 -->
<g id="node1" class="node">
<title>n0</title>
<path fill="white" stroke="#1b9e77" stroke-width="2" d="M842,-228C842,-228 670,-228 670,-228 664,-228 658,-222 658,-216 658,-216 658,-164 658,-164 658,-158 664,-152 670,-152 670,-152 842,-152 842,-152 848,-152 854,-158 854,-164 854,-164 854,-216 854,-216 854,-222 848,-228 842,-228"/>
<text text-anchor="start" x="716" y="-214" font-family="arial" font-weight="bold" font-size="10.00" fill="#000000">Fully Approximate</text>
<text text-anchor="start" x="674.31" y="-197" font-family="arial" font-size="10.00" fill="#000000">Let our analysis approximation to not</text>
<text text-anchor="start" x="687.64" y="-185" font-family="arial" font-size="10.00" fill="#000000"> be aware of code that can&#39;t be</text>
<text text-anchor="start" x="677.65" y="-173" font-family="arial" font-size="10.00" fill="#000000"> reached, but otherwise perform full</text>
<text text-anchor="start" x="735.16" y="-161" font-family="arial" font-size="10.00" fill="#000000"> analysis.</text>
</g>
<!-- n1 -->
<g id="node2" class="node">
<title>n1</title>
<path fill="white" stroke="#1b9e77" stroke-width="2" d="M628,-228C628,-228 456,-228 456,-228 450,-228 444,-222 444,-216 444,-216 444,-164 444,-164 444,-158 450,-152 456,-152 456,-152 628,-152 628,-152 634,-152 640,-158 640,-164 640,-164 640,-216 640,-216 640,-222 634,-228 628,-228"/>
<text text-anchor="start" x="519.22" y="-214" font-family="arial" font-weight="bold" font-size="10.00" fill="#000000">Local&#45;only</text>
<text text-anchor="start" x="468.11" y="-197" font-family="arial" font-size="10.00" fill="#000000">We should still perform uniformity</text>
<text text-anchor="start" x="477.25" y="-185" font-family="arial" font-size="10.00" fill="#000000"> analysis on the dead code in</text>
<text text-anchor="start" x="459.49" y="-173" font-family="arial" font-size="10.00" fill="#000000"> isolation. The analysis shouldn&#39;t leak</text>
<text text-anchor="start" x="484.47" y="-161" font-family="arial" font-size="10.00" fill="#000000"> outside of the dead code.</text>
</g>
<!-- n2 -->
<g id="node3" class="node">
<title>n2</title>
<path fill="white" stroke="#1b9e77" stroke-width="2" d="M1056,-216C1056,-216 884,-216 884,-216 878,-216 872,-210 872,-204 872,-204 872,-176 872,-176 872,-170 878,-164 884,-164 884,-164 1056,-164 1056,-164 1062,-164 1068,-170 1068,-176 1068,-176 1068,-204 1068,-204 1068,-210 1062,-216 1056,-216"/>
<text text-anchor="start" x="960.28" y="-202" font-family="arial" font-weight="bold" font-size="10.00" fill="#000000">Skip</text>
<text text-anchor="start" x="893.59" y="-185" font-family="arial" font-size="10.00" fill="#000000">We should skip the behavioral and</text>
<text text-anchor="start" x="895.81" y="-173" font-family="arial" font-size="10.00" fill="#000000"> uniformity analysis of dead code.</text>
</g>
<!-- n3 -->
<g id="node4" class="node">
<title>n3</title>
<path fill="white" stroke="#1b9e77" stroke-width="2" d="M1056,-96C1056,-96 884,-96 884,-96 878,-96 872,-90 872,-84 872,-84 872,-48 872,-48 872,-42 878,-36 884,-36 884,-36 1056,-36 1056,-36 1062,-36 1068,-42 1068,-48 1068,-48 1068,-84 1068,-84 1068,-90 1062,-96 1056,-96"/>
<text text-anchor="start" x="903.38" y="-81" font-family="arial" font-size="10.00" fill="#000000">matches a hypothetical &quot;ideal&quot;</text>
<text text-anchor="start" x="893.32" y="-69" font-family="arial" font-size="10.00" fill="#000000"> analysis, which would not find any</text>
<text text-anchor="start" x="888.04" y="-57" font-family="arial" font-size="10.00" fill="#000000"> issues in dead code because it&#39;s still</text>
<text text-anchor="start" x="928.59" y="-45" font-family="arial" font-size="10.00" fill="#000000"> safe and portable.</text>
</g>
<!-- n3&#45;&gt;n2 -->
<g id="edge3" class="edge">
<title>n3&#45;&gt;n2</title>
<path fill="none" stroke="#00ff00" d="M970,-96.22C970,-113.43 970,-135.32 970,-153.51"/>
<polygon fill="#00ff00" stroke="#00ff00" points="966.5,-153.73 970,-163.73 973.5,-153.73 966.5,-153.73"/>
</g>
<!-- n4 -->
<g id="node5" class="node">
<title>n4</title>
<path fill="white" stroke="#1b9e77" stroke-width="2" d="M307,-216C307,-216 135,-216 135,-216 129,-216 123,-210 123,-204 123,-204 123,-176 123,-176 123,-170 129,-164 135,-164 135,-164 307,-164 307,-164 313,-164 319,-170 319,-176 319,-176 319,-204 319,-204 319,-210 313,-216 307,-216"/>
<text text-anchor="start" x="196.27" y="-202" font-family="arial" font-weight="bold" font-size="10.00" fill="#000000">Skip Types</text>
<text text-anchor="start" x="140.71" y="-185" font-family="arial" font-size="10.00" fill="#000000">Not only skip the uniformity, but also</text>
<text text-anchor="start" x="132.91" y="-173" font-family="arial" font-size="10.00" fill="#000000"> not do any type checking in dead code.</text>
</g>
<!-- n5 -->
<g id="node6" class="node">
<title>n5</title>
<path fill="#1b9e77" stroke="black" d="M842,-92C842,-92 670,-92 670,-92 664,-92 658,-86 658,-80 658,-80 658,-52 658,-52 658,-46 664,-40 670,-40 670,-40 842,-40 842,-40 848,-40 854,-46 854,-52 854,-52 854,-80 854,-80 854,-86 848,-92 842,-92"/>
<text text-anchor="start" x="729.34" y="-78" font-family="arial" font-weight="bold" font-size="10.00" fill="#000000">False Alarm</text>
<text text-anchor="start" x="670.15" y="-61" font-family="arial" font-size="10.00" fill="#000000">will complain about cases that are safe</text>
<text text-anchor="start" x="681.81" y="-49" font-family="arial" font-size="10.00" fill="#000000"> and portable, annoy some users.</text>
</g>
<!-- n5&#45;&gt;n0 -->
<g id="edge1" class="edge">
<title>n5&#45;&gt;n0</title>
<path fill="none" stroke="#ff0000" d="M756,-92.28C756,-106.5 756,-124.71 756,-141.49"/>
<polygon fill="#ff0000" stroke="#ff0000" points="752.5,-141.71 756,-151.71 759.5,-141.71 752.5,-141.71"/>
</g>
<!-- n6 -->
<g id="node7" class="node">
<title>n6</title>
<path fill="#1b9e77" stroke="black" d="M628,-116C628,-116 456,-116 456,-116 450,-116 444,-110 444,-104 444,-104 444,-28 444,-28 444,-22 450,-16 456,-16 456,-16 628,-16 628,-16 634,-16 640,-22 640,-28 640,-28 640,-104 640,-104 640,-110 634,-116 628,-116"/>
<text text-anchor="start" x="501.45" y="-102" font-family="arial" font-weight="bold" font-size="10.00" fill="#000000">Minor False Alarm</text>
<text text-anchor="start" x="453.65" y="-85" font-family="arial" font-size="10.00" fill="#000000">may still complain about non&#45;dangerous</text>
<text text-anchor="start" x="464.77" y="-73" font-family="arial" font-size="10.00" fill="#000000"> cases, but less likely. In particular,</text>
<text text-anchor="start" x="475.33" y="-61" font-family="arial" font-size="10.00" fill="#000000"> if the user just inserts `return;`</text>
<text text-anchor="start" x="460.05" y="-49" font-family="arial" font-size="10.00" fill="#000000"> somewhere in a valid program, it will</text>
<text text-anchor="start" x="463.08" y="-37" font-family="arial" font-size="10.00" fill="#000000"> not become invalid due to the code</text>
<text text-anchor="start" x="514.22" y="-25" font-family="arial" font-size="10.00" fill="#000000"> that follows.</text>
</g>
<!-- n6&#45;&gt;n1 -->
<g id="edge2" class="edge">
<title>n6&#45;&gt;n1</title>
<path fill="none" stroke="#ff0000" d="M542,-116.27C542,-124.73 542,-133.51 542,-141.91"/>
<polygon fill="#ff0000" stroke="#ff0000" points="538.5,-141.93 542,-151.93 545.5,-141.93 538.5,-141.93"/>
</g>
<!-- n7 -->
<g id="node8" class="node">
<title>n7</title>
<path fill="#1b9e77" stroke="black" d="M414,-92C414,-92 242,-92 242,-92 236,-92 230,-86 230,-80 230,-80 230,-52 230,-52 230,-46 236,-40 242,-40 242,-40 414,-40 414,-40 420,-40 426,-46 426,-52 426,-52 426,-80 426,-80 426,-86 420,-92 414,-92"/>
<text text-anchor="start" x="280.77" y="-78" font-family="arial" font-weight="bold" font-size="10.00" fill="#000000">Analysis Consistency</text>
<text text-anchor="start" x="251.59" y="-61" font-family="arial" font-size="10.00" fill="#000000">these are all kind of code analysis,</text>
<text text-anchor="start" x="251.87" y="-49" font-family="arial" font-size="10.00" fill="#000000"> why separate one from the other?</text>
</g>
<!-- n7&#45;&gt;n4 -->
<g id="edge4" class="edge">
<title>n7&#45;&gt;n4</title>
<path fill="none" stroke="#00ff00" d="M305.83,-92.28C289.62,-110.76 267.48,-136 249.88,-156.07"/>
<polygon fill="#00ff00" stroke="#00ff00" points="247.1,-153.93 243.14,-163.75 252.37,-158.54 247.1,-153.93"/>
</g>
<!-- n8 -->
<g id="node9" class="node">
<title>n8</title>
<path fill="#1b9e77" stroke="black" d="M200,-92C200,-92 28,-92 28,-92 22,-92 16,-86 16,-80 16,-80 16,-52 16,-52 16,-46 22,-40 28,-40 28,-40 200,-40 200,-40 206,-40 212,-46 212,-52 212,-52 212,-80 212,-80 212,-86 206,-92 200,-92"/>
<text text-anchor="start" x="87.32" y="-78" font-family="arial" font-weight="bold" font-size="10.00" fill="#000000">Unexpected</text>
<text text-anchor="start" x="33.71" y="-61" font-family="arial" font-size="10.00" fill="#000000">inconsistent with any other compiled</text>
<text text-anchor="start" x="89.27" y="-49" font-family="arial" font-size="10.00" fill="#000000"> language?</text>
</g>
<!-- n8&#45;&gt;n4 -->
<g id="edge5" class="edge">
<title>n8&#45;&gt;n4</title>
<path fill="none" stroke="#ff0000" d="M136.17,-92.28C152.38,-110.76 174.52,-136 192.12,-156.07"/>
<polygon fill="#ff0000" stroke="#ff0000" points="189.63,-158.54 198.86,-163.75 194.9,-153.93 189.63,-158.54"/>
</g>
</g>
</svg>
</div></argdown-map></figure>